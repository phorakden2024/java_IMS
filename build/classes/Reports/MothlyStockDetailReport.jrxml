<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="ProductInventoryAllReport" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="1a9d429c-eed9-481e-9a80-fc28479ab855">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<query language="sql"><![CDATA[SELECT
            pro.id AS product_id,
            pro.name AS product_name,
            pro.category AS product_cate,
            (SELECT COALESCE(SUM(sin.quantity), 0) FROM stockin sin WHERE sin.product_id = pro.id) AS product_stockin,
            (SELECT COALESCE(SUM(ini.quantity), 0) FROM invoice_items ini WHERE ini.product_id = pro.id) AS product_stockout,
            (
                (SELECT COALESCE(SUM(sin.quantity), 0) FROM stockin sin WHERE sin.product_id = pro.id) -
                (SELECT COALESCE(SUM(ini.quantity), 0) FROM invoice_items ini WHERE ini.product_id = pro.id)
            ) AS product_available
        FROM
            Product pro
        ORDER BY
            pro.id;]]></query>
	<field name="product_id" class="java.lang.Integer"/>
	<field name="product_name" class="java.lang.String"/>
	<field name="product_cate" class="java.lang.String"/>
	<field name="product_stockin" class="java.lang.Integer"/>
	<field name="product_stockout" class="java.lang.Integer"/>
	<field name="product_available" class="java.lang.Integer"/>
	<variable name="TotalStockIn" calculation="Sum" class="java.lang.Integer">
		<expression><![CDATA[$F{product_stockin}]]></expression>
	</variable>
	<variable name="TotalStockOut" calculation="Sum" class="java.lang.Integer">
		<expression><![CDATA[$F{product_stockout}]]></expression>
	</variable>
	<variable name="TotalAvailable" calculation="Sum" class="java.lang.Integer">
		<expression><![CDATA[$F{product_available}]]></expression>
	</variable>
	<title height="30" splitType="Stretch">
		<element kind="staticText" uuid="eed804cc-0cac-439d-b22a-d03b923d1eaa" x="0" y="0" width="555" height="30" fontSize="20.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Product Inventory Report (All Data)]]></text>
		</element>
	</title>
	<columnHeader height="30" splitType="Stretch">
		<element kind="staticText" uuid="740eeaae-26cf-441d-9a32-92dfd51a9064" x="0" y="0" width="50" height="30" backcolor="#CCCCCC" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Product ID]]></text>
			<box>
				<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="65cf251e-62fa-482c-af04-b98a7e456093" x="50" y="0" width="130" height="30" backcolor="#CCCCCC" fontSize="8.0" bold="true" hTextAlign="Left" vTextAlign="Middle">
			<text><![CDATA[Product Name]]></text>
			<box>
				<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="89c8373a-d7ba-4569-81ef-2843f465eb71" x="180" y="0" width="130" height="30" backcolor="#CCCCCC" fontSize="8.0" bold="true" hTextAlign="Left" vTextAlign="Middle">
			<text><![CDATA[Category]]></text>
			<box>
				<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="efd5bd9a-fe51-4aa8-a212-45c1d09257dd" x="310" y="0" width="80" height="30" backcolor="#CCCCCC" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Stock In]]></text>
			<box>
				<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="fa6cd09c-aa1c-4413-8918-b3d4f719c260" x="390" y="0" width="80" height="30" backcolor="#CCCCCC" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Stock Out]]></text>
			<box>
				<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="staticText" uuid="b75c7c03-6434-4687-881e-f5289b0c0ae6" x="470" y="0" width="85" height="30" backcolor="#CCCCCC" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Available]]></text>
			<box>
				<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<element kind="textField" uuid="6be53da4-ff88-46ed-9192-962743020ecb" x="0" y="0" width="50" height="20" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{product_id}]]></expression>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="bb74b719-4469-41a8-8e34-28f7ecf8f180" x="50" y="0" width="130" height="20" hTextAlign="Left" vTextAlign="Middle">
				<expression><![CDATA[$F{product_name}]]></expression>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="12952d11-2687-4658-b01b-41a087ee6c03" x="180" y="0" width="130" height="20" hTextAlign="Left" vTextAlign="Middle">
				<expression><![CDATA[$F{product_cate}]]></expression>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="8a63c28b-9f00-4e49-9c53-54e01c8c97aa" x="310" y="0" width="80" height="20" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{product_stockin}]]></expression>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="f076e0c6-7b46-4efc-9189-326df8d59265" x="390" y="0" width="80" height="20" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{product_stockout}]]></expression>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="458cd69c-e49f-43e3-9a82-f57af2acfa8a" x="470" y="0" width="85" height="20" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{product_available}]]></expression>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
		</band>
	</detail>
	<summary height="30">
		<element kind="staticText" uuid="b1b1025b-c410-4ba7-851c-b8d896f11703" x="180" y="0" width="130" height="30" backcolor="#D3EBFD" fontSize="12.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
			<text><![CDATA[Grand Totals:  ]]></text>
			<box>
				<pen lineWidth="0.5"/>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="fe0907ca-37be-4956-b34a-89137a21a4ba" x="310" y="0" width="80" height="30" backcolor="#D3EBFD" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[$V{TotalStockIn}]]></expression>
			<box>
				<pen lineWidth="0.5"/>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="8c781efe-c1fa-4633-8460-fc5aba5c994f" x="390" y="0" width="80" height="30" backcolor="#D3EBFD" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[$V{TotalStockOut}]]></expression>
			<box>
				<pen lineWidth="0.5"/>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="cb010a3c-d715-430e-a960-69e25497dbde" x="470" y="0" width="85" height="30" backcolor="#D3EBFD" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[$V{TotalAvailable}]]></expression>
			<box>
				<pen lineWidth="0.5"/>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</summary>
</jasperReport>
